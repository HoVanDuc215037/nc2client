<template>
  <div class="manage-root">
    <!-- Header Section -->
    <div class="dashboard">
      <div
        class="user-info"
        style="display: flex; flex-direction: row; ms: center; gap: 10px"
      >
        <img :src="avatar" alt="avatar" class="avatar" />
        <p style="text-wrap: nowrap; overflow: hidden; max-width: 100%">
          {{ name }}
        </p>
      </div>
      <!-- <div class="dashboard-actions">
        <div style="display: flex; flex-direction: column">
          <button class="dashboard-btn" @click="go('orders', $event)">
            Xem ÄÆ¡n HÃ ng
          </button>
          <div v-if="role === 'owner'">
            <button class="dashboard-btn" @click="go('production', $event)">
              Quáº£n LÃ½ MÃ³n Ä‚n
            </button>
            <button class="dashboard-btn" @click="go('map', $event)">
              Quáº£n LÃ½ Cá»­a HÃ ng
            </button>
            <button class="dashboard-btn" @click="go('statistic', $event)">
              Quáº£n LÃ½ Doanh Thu
            </button>
            <button class="dashboard-btn" @click="go('staff', $event)">
              Quáº£n lÃ½ tÃ i khoáº£n nhÃ¢n viÃªn
            </button>
          </div>
          <button class="dashboard-btn" @click="go('profile', $event)">
            Há»“ sÆ¡
          </button>
        </div>
        <button class="dashboard-btn" @click="logout" style="margin-top: 20vh">
          ÄÄƒng Xuáº¥t
        </button>
      </div> -->
      <div class="dashboard-menu">
        <!-- QUáº¢N LÃ Cá»¬A HÃ€NG -->
        <div
          class="menu-group"
          @mouseenter="openMenu = 'store'"
          @mouseleave="openMenu = null"
        >
          <button class="menu-main">ğŸª Quáº£n lÃ½ cá»­a hÃ ng</button>

          <div class="menu-dropdown" v-if="openMenu === 'store'">
            <button @click="go('orders', $event)">ğŸ“¦ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng</button>
            <button v-if="role === 'owner'" @click="go('map', $event)">
              ğŸ  ThÃ´ng tin cá»­a hÃ ng
            </button>
            <button v-if="role === 'owner'" @click="go('production', $event)">
              ğŸ½ Quáº£n lÃ½ sáº£n pháº©m
            </button>
            <button v-if="role === 'owner'" @click="go('staff', $event)">
              ğŸ‘¥ Quáº£n lÃ½ tÃ i khoáº£n nhÃ¢n viÃªn
            </button>
            <button v-if="role === 'owner'" @click="go('statistic', $event)">
              ğŸ“Š Thá»‘ng kÃª bÃ¡n hÃ ng
            </button>
          </div>
        </div>

        <!-- Há»’ SÆ  -->
        <div class="menu-group">
          <button class="menu-main" @click="go('profile', $event)">
            ğŸ‘¤ Há»“ sÆ¡
          </button>
        </div>
      </div>
      <button
        class="dashboard-btn"
        @click="logout"
        style="
          margin-top: 20vh;
          color: white;
          background: black;
          border: none;
          font-size: 12px;
          font-weight: 600;
          cursor: pointer;
        "
      >
        ÄÄƒng Xuáº¥t
      </button>
    </div>

    <section class="manage-content">
      <div v-if="activeTab === 'orders'">
        <ManageOrdersPage />
      </div>
      <div v-if="activeTab === 'production' && role === 'owner'">
        <ManageProductionPage />
      </div>
      <div v-if="activeTab === 'statistic' && role === 'owner'">
        <ManageStatisticPage />
      </div>
      <div v-if="activeTab === 'map' && role === 'owner'">
        <ManageMapPage />
      </div>
      <div v-if="activeTab === 'staff' && role === 'owner'">
        <ManageStaffPage />
      </div>
      <div v-if="activeTab === 'profile'">
        <ProfilePage />
      </div>
    </section>
  </div>
</template>

<script>
import "./MainManage.css";
import "./Dashboard.css";
import "../ScrollBar.css";
import MainManageLogic from "./MainManage.js";
export default {
  name: "MainManagePage",
  mixins: [MainManageLogic],
};
</script>